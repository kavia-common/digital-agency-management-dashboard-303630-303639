{"is_source_file": true, "format": "Python", "description": "Main FastAPI application source file that sets up the API server, including middleware, error handling, route inclusion, and startup/shutdown procedures. It defines API metadata, health check endpoints, and dynamically loads routers with error handling.", "external_files": ["src.api.config", "src.api.routers.auth", "src.api.routers.users", "src.api.routers.projects", "src.api.routers.clients", "src.api.routers.dashboard", "src.api.routers.settings"], "external_methods": ["FastAPI", "Request", "status", "CORSMiddleware", "JSONResponse", "RequestValidationError", "StarletteHTTPException", "logger.error", "logger.warning", "logger.info", "app.include_router", "app.exception_handler", "app.get", "app.on_event", "uvicorn.run"], "published": ["app"], "classes": [], "methods": [{"name": "health_check()", "description": "Basic health check endpoint that returns a status message indicating the server is healthy.", "scope": "", "scopeKind": ""}, {"name": "readiness_check()", "description": "Readiness endpoint that verifies configuration and reports if the API is ready to handle requests.", "scope": "", "scopeKind": ""}, {"name": "root()", "description": "Root endpoint providing basic API info and links.", "scope": "", "scopeKind": ""}, {"name": "general_exception_handler(request: Request, exc: Exception)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "http_exception_handler(request: Request, exc: StarletteHTTPException)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "shutdown_event()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "startup_event()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "validation_exception_handler(request: Request, exc: RequestValidationError)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["logger.error", "logger.warning", "logger.info", "app.include_router", "app.exception_handler", "app.get", "app.on_event", "uvicorn.run"], "search-terms": ["FastAPI application setup", "router error handling", "health check endpoints", "CORS configuration", "error handlers", "dynamic router loading", "API metadata", "startup event", "shutdown event", "main.py"], "state": 2, "file_id": 3, "knowledge_revision": 34, "git_revision": "5a3dd6b8ad2345d0ff28b83764c1dfd419929b92", "revision_history": [{"8": "e0de3f0029d4d9955d408fef72bd03c92d94cb26"}, {"20": "e0de3f0029d4d9955d408fef72bd03c92d94cb26"}, {"33": "5a3dd6b8ad2345d0ff28b83764c1dfd419929b92"}, {"34": "5a3dd6b8ad2345d0ff28b83764c1dfd419929b92"}], "ctags": [{"_type": "tag", "name": "ALLOWED_ORIGINS", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    ALLOWED_ORIGINS = [\"http:\\/\\/localhost:3000\", \"http:\\/\\/localhost:4000\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SUPABASE_KEY", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    SUPABASE_KEY = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SUPABASE_URL", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    SUPABASE_URL = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "StarletteHTTPException", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^from starlette.exceptions import HTTPException as StarletteHTTPException$/", "language": "Python", "kind": "unknown", "nameref": "unknown:HTTPException"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "config_loaded", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    config_loaded = False$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "config_loaded", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    config_loaded = True$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "cors_origins", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^cors_origins = ALLOWED_ORIGINS if ALLOWED_ORIGINS and ALLOWED_ORIGINS != [''] else [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "general_exception_handler", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^async def general_exception_handler(request: Request, exc: Exception):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: Exception)"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    host = os.getenv(\"UVICORN_HOST\", \"0.0.0.0\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "http_exception_handler", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^async def http_exception_handler(request: Request, exc: StarletteHTTPException):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: StarletteHTTPException)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^    port = int(os.getenv(\"PORT\", \"3001\"))$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "readiness_check", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^def readiness_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "root", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^def root():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "routers_loaded", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^routers_loaded = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "shutdown_event", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^async def shutdown_event():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "startup_event", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^async def startup_event():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "tags_metadata", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^tags_metadata = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "validation_exception_handler", "path": "/home/kavia/workspace/code-generation/digital-agency-management-dashboard-303630-303639/project_management_backend/src/api/main.py", "pattern": "/^async def validation_exception_handler(request: Request, exc: RequestValidationError):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: RequestValidationError)"}], "hash": "822acb5375d1181c1799eea616b0b877", "format-version": 4, "code-base-name": "project_management_backend", "filename": "project_management_backend/src/api/main.py", "fields": [{"name": "ALLOWED_ORIGINS = [\"http:\\/\\/localhost:3000\", \"http:\\/\\/localhost:4000\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPABASE_KEY = None", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SUPABASE_URL = None", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config_loaded = False", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config_loaded = True", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "cors_origins = ALLOWED_ORIGINS if ALLOWED_ORIGINS and ALLOWED_ORIGINS != [''] else [", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "host = os.getenv(\"UVICORN_HOST\", \"0.0.0.0\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port = int(os.getenv(\"PORT\", \"3001\"))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "routers_loaded = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "tags_metadata = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}